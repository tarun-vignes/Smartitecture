<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="Smartitecture.UI.WelcomeSetupPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.Resources>
        <!-- Purple Gradient Background -->
        <LinearGradientBrush x:Key="WelcomeBackgroundBrush" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#1a0a2e" Offset="0"/>
            <GradientStop Color="#16213e" Offset="0.5"/>
            <GradientStop Color="#0f3460" Offset="1"/>
        </LinearGradientBrush>
        
        <!-- Status Colors -->
        <SolidColorBrush x:Key="StatusOkBrush" Color="#34d399"/>
        <SolidColorBrush x:Key="StatusWarningBrush" Color="#f59e0b"/>
        <SolidColorBrush x:Key="StatusErrorBrush" Color="#ef4444"/>
    </Page.Resources>

    <Grid Background="{StaticResource WelcomeBackgroundBrush}">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel MaxWidth="1000" Margin="40" Spacing="32">
                
                <!-- Header Section -->
                <StackPanel HorizontalAlignment="Center" Spacing="16">
                    <!-- Logo/Icon -->
                    <Ellipse Width="120" Height="120" 
                             HorizontalAlignment="Center">
                        <Ellipse.Fill>
                            <RadialGradientBrush>
                                <GradientStop Color="#8b5cf6" Offset="0"/>
                                <GradientStop Color="#6366f1" Offset="1"/>
                            </RadialGradientBrush>
                        </Ellipse.Fill>
                    </Ellipse>
                    
                    <!-- Welcome Text -->
                    <TextBlock Text="Welcome" 
                               FontSize="48" 
                               FontWeight="Bold"
                               Foreground="White"
                               HorizontalAlignment="Center"/>
                    
                    <TextBlock Text="Let's get started!" 
                               FontSize="24" 
                               Foreground="#e0e0e0"
                               HorizontalAlignment="Center"/>
                    
                    <TextBlock Text="LUMEN • FORTIS • NEXA" 
                               FontSize="16" 
                               Foreground="#a0a0a0"
                               HorizontalAlignment="Center"
                               LetterSpacing="2"/>
                </StackPanel>

                <!-- System Readiness Bar -->
                <Border Background="#1f2937" 
                        CornerRadius="12" 
                        Padding="20">
                    <StackPanel Spacing="12">
                        <TextBlock Text="System Readiness:" 
                                   FontSize="16" 
                                   FontWeight="SemiBold"
                                   Foreground="White"/>
                        
                        <StackPanel Orientation="Horizontal" Spacing="16">
                            <!-- Config Status -->
                            <Border Background="{StaticResource StatusWarningBrush}" 
                                    CornerRadius="6" 
                                    Padding="12,6">
                                <TextBlock x:Name="ConfigStatus" 
                                           Text="Config Missing" 
                                           Foreground="White"
                                           FontWeight="SemiBold"/>
                            </Border>
                            
                            <!-- Defender Status -->
                            <Border Background="{StaticResource StatusOkBrush}" 
                                    CornerRadius="6" 
                                    Padding="12,6">
                                <TextBlock x:Name="DefenderStatus" 
                                           Text="Defender OK" 
                                           Foreground="White"
                                           FontWeight="SemiBold"/>
                            </Border>
                            
                            <!-- Firewall Status -->
                            <Border Background="{StaticResource StatusOkBrush}" 
                                    CornerRadius="6" 
                                    Padding="12,6">
                                <TextBlock x:Name="FirewallStatus" 
                                           Text="Firewall ON" 
                                           Foreground="White"
                                           FontWeight="SemiBold"/>
                            </Border>
                            
                            <!-- Ready Status -->
                            <Border x:Name="ReadyStatusBorder"
                                    Background="{StaticResource StatusErrorBrush}" 
                                    CornerRadius="6" 
                                    Padding="12,6">
                                <TextBlock x:Name="ReadyStatus" 
                                           Text="Not Ready" 
                                           Foreground="White"
                                           FontWeight="SemiBold"/>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Main Content Grid -->
                <Grid ColumnSpacing="24">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- API Configuration Panel -->
                    <Border Grid.Column="0" 
                            Background="#1f2937" 
                            CornerRadius="12" 
                            Padding="24">
                        <StackPanel Spacing="20">
                            <TextBlock Text="API Configuration" 
                                       FontSize="20" 
                                       FontWeight="Bold"
                                       Foreground="White"/>
                            
                            <TextBlock Text="Connect your OpenAI / Claude keys to unlock AI features." 
                                       FontSize="14" 
                                       Foreground="#a0a0a0"
                                       TextWrapping="Wrap"/>
                            
                            <!-- OpenAI API Key -->
                            <StackPanel Spacing="8">
                                <TextBlock Text="OpenAI API Key" 
                                           FontSize="14" 
                                           Foreground="White"/>
                                <PasswordBox x:Name="OpenAIKeyBox" 
                                             PlaceholderText="sk-..."
                                             PasswordRevealMode="Peek"
                                             Background="#374151"
                                             Foreground="White"
                                             BorderBrush="#4b5563"
                                             CornerRadius="6"
                                             Padding="12"/>
                            </StackPanel>
                            
                            <!-- Anthropic (Claude) API Key -->
                            <StackPanel Spacing="8">
                                <TextBlock Text="Anthropic (Claude) API Key" 
                                           FontSize="14" 
                                           Foreground="White"/>
                                <PasswordBox x:Name="ClaudeKeyBox" 
                                             PlaceholderText="sk-ant-..."
                                             PasswordRevealMode="Peek"
                                             Background="#374151"
                                             Foreground="White"
                                             BorderBrush="#4b5563"
                                             CornerRadius="6"
                                             Padding="12"/>
                            </StackPanel>
                            
                            <!-- Action Buttons -->
                            <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,12,0,0">
                                <Button x:Name="SaveKeysButton"
                                        Content="Save Keys" 
                                        Click="SaveKeys_Click"
                                        Background="#8b5cf6"
                                        Foreground="White"
                                        BorderThickness="0"
                                        CornerRadius="6"
                                        Padding="20,10"
                                        FontWeight="SemiBold"/>
                                
                                <HyperlinkButton Content="Learn More" 
                                                 Foreground="#8b5cf6"
                                                 Click="LearnMore_Click"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- System Permissions Panel -->
                    <Border Grid.Column="1" 
                            Background="#1f2937" 
                            CornerRadius="12" 
                            Padding="24">
                        <StackPanel Spacing="20">
                            <TextBlock Text="System Permissions" 
                                       FontSize="20" 
                                       FontWeight="Bold"
                                       Foreground="White"/>
                            
                            <TextBlock Text="Windows Defender, Firewall, and basic system access." 
                                       FontSize="14" 
                                       Foreground="#a0a0a0"
                                       TextWrapping="Wrap"/>
                            
                            <!-- Defender Status -->
                            <StackPanel Spacing="8">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon Glyph="&#xE72E;" 
                                              FontSize="20" 
                                              Foreground="{StaticResource StatusOkBrush}"/>
                                    <TextBlock Text="Defender: Available" 
                                               FontSize="14" 
                                               Foreground="White"
                                               VerticalAlignment="Center"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <!-- Firewall Status -->
                            <StackPanel Spacing="8">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon Glyph="&#xE72E;" 
                                              FontSize="20" 
                                              Foreground="{StaticResource StatusOkBrush}"/>
                                    <TextBlock Text="Firewall: Checked" 
                                               FontSize="14" 
                                               Foreground="White"
                                               VerticalAlignment="Center"/>
                                </StackPanel>
                            </StackPanel>
                            
                            <!-- Health Check Button -->
                            <Button x:Name="HealthCheckButton"
                                    Content="Run Health Check" 
                                    Click="HealthCheck_Click"
                                    Background="#374151"
                                    Foreground="White"
                                    BorderBrush="#4b5563"
                                    BorderThickness="1"
                                    CornerRadius="6"
                                    Padding="20,10"
                                    HorizontalAlignment="Stretch"
                                    Margin="0,12,0,0"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- Bottom Action Buttons -->
                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Center" 
                            Spacing="16">
                    <Button x:Name="GetStartedButton"
                            Content="Let's Get Started" 
                            Click="GetStarted_Click"
                            Background="#8b5cf6"
                            Foreground="White"
                            BorderThickness="0"
                            CornerRadius="8"
                            Padding="32,14"
                            FontSize="16"
                            FontWeight="SemiBold"/>
                    
                    <Button Content="Settings" 
                            Click="Settings_Click"
                            Background="#374151"
                            Foreground="White"
                            BorderBrush="#4b5563"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="24,14"/>
                    
                    <Button Content="Health Check" 
                            Click="HealthCheck_Click"
                            Background="#374151"
                            Foreground="White"
                            BorderBrush="#4b5563"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="24,14"/>
                    
                    <Button Content="About &amp; Docs" 
                            Click="AboutDocs_Click"
                            Background="#374151"
                            Foreground="White"
                            BorderBrush="#4b5563"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="24,14"/>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
