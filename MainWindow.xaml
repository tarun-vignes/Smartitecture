<Window x:Class="Smartitecture.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Smartitecture" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header with Navigation -->
        <Border Grid.Row="0" Background="#2D2D30" Padding="20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Back Button (hidden by default) -->
                <Button Grid.Column="0" 
                        Name="BackButton"
                        Content="← Back"
                        Click="BackButton_Click"
                        Background="Transparent"
                        Foreground="White"
                        BorderBrush="White"
                        Padding="10,5"
                        Margin="0,0,20,0"
                        Visibility="Collapsed"/>
                
                <!-- Title -->
                <TextBlock Grid.Column="1"
                           Name="HeaderTitle"
                           Text="🏗️ Smartitecture - AI Desktop Assistant" 
                           Foreground="White" 
                           FontSize="24" 
                           FontWeight="Bold"
                           HorizontalAlignment="Center"/>
            </Grid>
        </Border>
        
        <!-- Main Content Container -->
        <Grid Grid.Row="1" Name="ContentContainer">
            <!-- Main View -->
            <ScrollViewer Name="MainView" Padding="20">
                <StackPanel>
                    <TextBlock Text="Welcome to Smartitecture!" 
                               FontSize="18" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,20"/>
                    
                    <TextBlock Text="Your AI-powered desktop assistant is ready to help with:" 
                               FontSize="14" 
                               Margin="0,0,0,10"/>
                    
                    <StackPanel Margin="20,0,0,20">
                        <TextBlock Text="• System Commands (Launch apps, shutdown, volume control)" FontSize="12" Margin="0,2"/>
                        <TextBlock Text="• AI Integration (Azure OpenAI, local models)" FontSize="12" Margin="0,2"/>
                        <TextBlock Text="• Security Tools (Permission management, monitoring)" FontSize="12" Margin="0,2"/>
                        <TextBlock Text="• Network Utilities (Configuration, diagnostics)" FontSize="12" Margin="0,2"/>
                    </StackPanel>
                    
                    <Button Content="Launch App Command Test" 
                            Name="LaunchAppButton"
                            Click="LaunchAppButton_Click"
                            Padding="10,5" 
                            Margin="0,10"
                            HorizontalAlignment="Left"/>
                    
                    <Button Content="Shutdown Command Test" 
                            Name="ShutdownButton"
                            Click="ShutdownButton_Click"
                            Padding="10,5" 
                            Margin="0,10"
                            HorizontalAlignment="Left"/>
                    
                    <Separator Margin="0,20"/>
                    
                    <TextBlock Text="🤖 AI Assistant Features:" 
                               FontSize="16" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,10"/>
                    
                    <Button Content="Open AI Chat Assistant" 
                            Name="OpenChatButton"
                            Click="OpenChatButton_Click"
                            Padding="15,8" 
                            Margin="0,10"
                            Background="#0078D4"
                            Foreground="White"
                            FontWeight="SemiBold"
                            HorizontalAlignment="Left"/>
                    
                    <TextBlock Text="Chat with AI to execute commands, get help, and automate tasks" 
                               FontSize="12" 
                               Foreground="Gray"
                               Margin="0,5,0,0"/>
                </StackPanel>
            </ScrollViewer>
            
            <!-- Chat View (hidden by default) -->
            <Grid Name="ChatView" Visibility="Collapsed" Background="#1E1E1E">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Chat Header with Model Selection -->
                <Border Grid.Row="0" Background="#2D2D30" Padding="15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0" Orientation="Horizontal">
                            <TextBlock Text="🤖 AI Assistant" 
                                       Foreground="White" 
                                       FontSize="18" 
                                       FontWeight="Bold"
                                       VerticalAlignment="Center"/>
                            <TextBlock Name="ModelStatusText"
                                       Text="(Mock AI Model)"
                                       Foreground="#90EE90"
                                       FontSize="12"
                                       Margin="10,0,0,0"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                        
                        <ComboBox Grid.Column="1" 
                                  Name="ModelSelector"
                                  Width="150"
                                  Margin="10,0"
                                  SelectionChanged="ModelSelector_SelectionChanged">
                            <ComboBoxItem Content="Mock AI Model" IsSelected="True"/>
                            <ComboBoxItem Content="Azure OpenAI"/>
                            <ComboBoxItem Content="Local Model"/>
                        </ComboBox>
                        
                        <Button Grid.Column="2" 
                                Name="ClearChatButton"
                                Content="Clear Chat"
                                Click="ClearChatButton_Click"
                                Padding="10,5"
                                Background="#404040"
                                Foreground="White"
                                BorderBrush="#606060"/>
                    </Grid>
                </Border>
                
                <!-- Chat Messages Area -->
                <ScrollViewer Grid.Row="1" 
                              Name="ChatScrollViewer"
                              Background="#1E1E1E"
                              VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled">
                    <StackPanel Name="ChatMessagesPanel" Margin="10">
                        <!-- Welcome Message -->
                        <Border Background="#404040"
                                CornerRadius="8"
                                Padding="8,4"
                                Margin="20,5,20,5"
                                HorizontalAlignment="Center">
                            <TextBlock Text="🏗️ Welcome to Smartitecture AI Assistant! I can help you with automation, system commands, and more."
                                       Foreground="#B0B0B0"
                                       FontSize="12"
                                       TextWrapping="Wrap"
                                       HorizontalAlignment="Center"/>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
                
                <!-- Typing Indicator -->
                <Border Grid.Row="2" 
                        Name="TypingIndicator"
                        Background="#2D2D30"
                        Padding="15,8"
                        Visibility="Collapsed">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="🤖 AI is typing" 
                                   Foreground="#90EE90" 
                                   FontSize="12"/>
                        <TextBlock Name="TypingDots" 
                                   Text="..." 
                                   Foreground="#90EE90" 
                                   FontSize="12"
                                   Margin="5,0,0,0"/>
                    </StackPanel>
                </Border>
                
                <!-- Input Area -->
                <Border Grid.Row="3" Background="#2D2D30" Padding="15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBox Grid.Column="0"
                                 Name="MessageInput"
                                 Background="#404040"
                                 Foreground="White"
                                 BorderBrush="#606060"
                                 Padding="12,8"
                                 FontSize="14"
                                 AcceptsReturn="True"
                                 MaxHeight="100"
                                 VerticalScrollBarVisibility="Auto"
                                 KeyDown="MessageInput_KeyDown"
                                 TextWrapping="Wrap"
                                 Text="Type your message or command here..."/>
                        
                        <Button Grid.Column="1"
                                Name="AttachButton"
                                Content="📎"
                                Width="40"
                                Height="40"
                                Margin="10,0,5,0"
                                Background="#404040"
                                Foreground="White"
                                BorderBrush="#606060"
                                Click="AttachButton_Click"
                                ToolTip="Attach file or screenshot"/>
                        
                        <Button Grid.Column="2"
                                Name="SendButton"
                                Content="Send"
                                Width="80"
                                Height="40"
                                Background="#0078D4"
                                Foreground="White"
                                BorderBrush="#0078D4"
                                Click="SendButton_Click"
                                IsDefault="True"/>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
        
        <!-- Status Bar -->
        <Border Grid.Row="2" Background="#F0F0F0" Padding="10">
            <TextBlock Name="StatusText" 
                       Text="Ready" 
                       FontSize="12"/>
        </Border>
    </Grid>
</Window>
