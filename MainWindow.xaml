<Window x:Class="SmartitectureSimple.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Smartitecture - AI Windows Automation Agent" 
        Height="700" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#0D1117"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanResize">
    
    <Window.Resources>
        <!-- Modern Glass-morphism Style -->
        <Style x:Key="GlassButton" TargetType="Button">
            <Setter Property="Background" Value="#1C2128"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#30363D"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#21262D"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#161B22"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="#161B22"/>
            <Setter Property="Foreground" Value="#E6EDF3"/>
            <Setter Property="BorderBrush" Value="#30363D"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontFamily" Value="Consolas, Monaco, monospace"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
    </Window.Resources>
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#1C2128" CornerRadius="8" Padding="20,15" Margin="0,0,0,20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="🤖 Smartitecture AI Agent" 
                               FontSize="24" FontWeight="Bold" Foreground="#58A6FF"/>
                    <TextBlock Text="Natural Language Windows Automation with ReAct Framework" 
                               FontSize="14" Foreground="#8B949E" Margin="0,5,0,0"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Ellipse x:Name="StatusIndicator" Width="12" Height="12" Fill="#F85149" Margin="0,0,8,0"/>
                    <TextBlock x:Name="StatusText" Text="Backend: Offline" 
                               FontSize="12" Foreground="#8B949E" VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Quick Actions -->
        <Border Grid.Row="1" Background="#1C2128" CornerRadius="8" Padding="15" Margin="0,0,0,15">
            <StackPanel>
                <TextBlock Text="Quick Commands" FontSize="14" FontWeight="Bold" Foreground="White" Margin="0,0,0,10"/>
                <WrapPanel>
                    <Button Content="📸 Take Screenshot" Style="{StaticResource GlassButton}" Margin="0,0,8,8" Click="QuickCommand_Click" Tag="Take a screenshot"/>
                    <Button Content="🪟 List Windows" Style="{StaticResource GlassButton}" Margin="0,0,8,8" Click="QuickCommand_Click" Tag="Show running programs"/>
                    <Button Content="📁 Current Directory" Style="{StaticResource GlassButton}" Margin="0,0,8,8" Click="QuickCommand_Click" Tag="Show current directory"/>
                    <Button Content="🕒 Current Time" Style="{StaticResource GlassButton}" Margin="0,0,8,8" Click="QuickCommand_Click" Tag="What time is it?"/>
                    <Button Content="🎲 Random Number" Style="{StaticResource GlassButton}" Margin="0,0,8,8" Click="QuickCommand_Click" Tag="Generate random number"/>
                </WrapPanel>
            </StackPanel>
        </Border>
        
        <!-- Input Section -->
        <Border Grid.Row="2" Background="#1C2128" CornerRadius="8" Padding="15" Margin="0,0,0,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBox x:Name="InputTextBox" Grid.Column="0"
                         Style="{StaticResource ModernTextBox}"
                         Text="Focus on chrome"
                         KeyDown="InputTextBox_KeyDown"
                         Margin="0,0,10,0"/>
                
                <Button x:Name="RunAgentButton" Grid.Column="1" 
                        Content="▶ Execute" 
                        Background="#238636" 
                        Style="{StaticResource GlassButton}"
                        Click="RunAgentButton_Click" 
                        IsEnabled="False"
                        MinWidth="100"/>
            </Grid>
        </Border>
        
        <!-- Output Section -->
        <Border Grid.Row="3" Background="#1C2128" CornerRadius="8" Padding="15" Margin="0,0,0,15">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <TextBlock Grid.Row="0" Text="Agent Output &amp; Reasoning" 
                           FontSize="14" FontWeight="Bold" Foreground="White" Margin="0,0,0,10"/>
                
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <TextBox x:Name="OutputTextBox"
                             Style="{StaticResource ModernTextBox}"
                             IsReadOnly="True"
                             TextWrapping="Wrap"
                             AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             MinHeight="200">
                        <TextBox.Text>🤖 Welcome to Smartitecture AI Agent!

This is an advanced ReAct (Reasoning and Acting) agent with Windows automation capabilities.

Available Tools:
• Screenshot capture and screen analysis
• Window management and application control
• File operations and directory navigation
• Mathematical calculations and text analysis
• Memory storage and retrieval
• System information and process management

Click 'Start Backend' to begin, then try commands like:
- 'Take a screenshot'
- 'Focus on chrome'
- 'What's 25 * 4 + 17?'
- 'Show running programs'
- 'List files in current directory'</TextBox.Text>
                    </TextBox>
                </ScrollViewer>
            </Grid>
        </Border>
        
        <!-- Control Panel -->
        <Border Grid.Row="4" Background="#1C2128" CornerRadius="8" Padding="15" Margin="0,0,0,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <Button x:Name="StartBackendButton" Content="🚀 Start Backend" 
                            Background="#0969DA" Style="{StaticResource GlassButton}"
                            Click="StartBackendButton_Click" Margin="0,0,10,0"/>
                    <Button x:Name="StopBackendButton" Content="⏹ Stop Backend"
                            Background="#DA3633" Style="{StaticResource GlassButton}"
                            Click="StopBackendButton_Click" IsEnabled="False" Margin="0,0,10,0"/>
                    <Button x:Name="ClearOutputButton" Content="🗑 Clear Output"
                            Style="{StaticResource GlassButton}"
                            Click="ClearOutput_Click" Margin="0,0,10,0"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <TextBlock Text="ReAct Framework Active" FontSize="12" Foreground="#7C3AED" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock x:Name="ToolCountText" Text="13 Tools Ready" FontSize="12" Foreground="#10B981" VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Footer -->
        <Border Grid.Row="5" Background="#0D1117" CornerRadius="8" Padding="10">
            <TextBlock Text="✨ Advanced AI • 🧠 ReAct Reasoning • 🛠 Windows Automation • 🚀 Single-File Deployment"
                       FontSize="11" Foreground="#6E7681" HorizontalAlignment="Center"/>
        </Border>
    </Grid>
</Window>
